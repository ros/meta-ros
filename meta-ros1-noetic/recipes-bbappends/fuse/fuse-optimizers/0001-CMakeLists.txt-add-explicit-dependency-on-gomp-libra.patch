From 81726e0e39a78a55d922b2c109f09f92d3d2a166 Mon Sep 17 00:00:00 2001
From: Martin Jansa <martin.jansa@lge.com>
Date: Tue, 17 Aug 2021 15:39:44 -0700
Subject: [PATCH] CMakeLists.txt: add explicit dependency on gomp library

* it should be pulled with ceres, but currently it isn't, work around the build failure:

FAILED: /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/fuse_optimizers/batch_optimizer_node
: && /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/x86_64-oe-linux-g++  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -O2 -pipe -g -feliminate-unused-debug-types -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=  -fvisibility-inlines-hidden  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -O2 -pipe -g -feliminate-unused-debug-types -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=  -fvisibility-inlines-hidden  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed   -rdynamic CMakeFiles/batch_optimizer_node.dir/src/batch_optimizer_node.cpp.o  -o /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/fuse_optimizers/batch_optimizer_node  -Wl,-rpath,/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib:/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib:  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/libfuse_optimizers.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libdiagnostic_updater.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_constraints.so  -lspqr  -lcholmod  -lccolamd  -lcamd  -lcolamd  -lamd  -llapack  -lblas  -lsuitesparseconfig  -lrt  -lmetis  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_graphs.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_variables.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_core.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_serialization.so.1.72.0  -Wl,-Bstatic  -lceres  -Wl,-Bdynamic  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libglog.so.0.3.5  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libclass_loader.so  -lPocoFoundation  -ldl  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroslib.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librospack.so  -lpython2.7  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_program_options.so.1.72.0  -ltinyxml2  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroscpp.so  -lpthread  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_chrono.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_filesystem.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole_log4cxx.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole_backend_interface.so  -llog4cxx  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_regex.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libxmlrpcpp.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroscpp_serialization.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librostime.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_date_time.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libcpp_common.so  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_system.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_thread.so.1.72.0  /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libconsole_bridge.so.0.4 && :
/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/../../libexec/x86_64-oe-linux/gcc/x86_64-oe-linux/9.3.0/ld: /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/../lib/libceres.a(local_parameterization.cc.o): undefined reference to symbol 'omp_get_max_threads@@OMP_1.0'
/jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/../../libexec/x86_64-oe-linux/gcc/x86_64-oe-linux/9.3.0/ld: /jenkins/mjansa/build/ros/ros1-noetic-dunfell/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libgomp.so.1: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status

* add glog as well to fix:
FAILED: /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/fuse_optimizers/fixed_lag_smoother_node 
: && /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/x86_64-oe-linux-g++ -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -O2 -pipe -g -feliminate-unused-debug-types -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=  -fvisibility-inlines-hidden  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot  -O2 -pipe -g -feliminate-unused-debug-types -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=  -fvisibility-inlines-hidden  -m64 -march=core2 -mtune=core2 -msse3 -mfpmath=sse  --sysroot=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=  -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -fmacro-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0=/usr/src/debug/fuse-optimizers/0.4.2-1-r0                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot=                      -fdebug-prefix-map=/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native=   -rdynamic CMakeFiles/fixed_lag_smoother_node.dir/src/fixed_lag_smoother_node.cpp.o -o /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/fuse_optimizers/fixed_lag_smoother_node  -Wl,-rpath,/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib:/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib:  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/devel/lib/libfuse_optimizers.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libdiagnostic_updater.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_constraints.so  -lspqr  -lcholmod  -lccolamd  -lcamd  -lcolamd  -lamd  -llapack  -lblas  -lsuitesparseconfig  -lrt  -lmetis  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_graphs.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_variables.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_core.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_serialization.so.1.76.0  -Wl,-Bstatic  -lceres  -Wl,-Bdynamic  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libclass_loader.so  -lPocoFoundation  -Wl,-Bstatic  -ldl  -Wl,-Bdynamic  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroslib.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librospack.so  -lpython3.9  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_program_options.so.1.76.0  -ltinyxml2  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroscpp.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_chrono.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_filesystem.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole_log4cxx.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librosconsole_backend_interface.so  -llog4cxx  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_regex.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libxmlrpcpp.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libroscpp_serialization.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/librostime.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_date_time.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libcpp_common.so  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_system.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libboost_thread.so.1.76.0  /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libconsole_bridge.so.0.4  -lgomp && :
/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/../../libexec/x86_64-oe-linux/gcc/x86_64-oe-linux/11.2.0/ld: /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/opt/ros/noetic/lib/libfuse_graphs.so: undefined reference to symbol '_ZN6google15LogMessageFatalC1EPKci'
/jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot-native/usr/bin/x86_64-oe-linux/../../libexec/x86_64-oe-linux/gcc/x86_64-oe-linux/11.2.0/ld: /jenkins/mjansa/build/ros/ros1-noetic-honister/tmp-glibc/work/core2-64-oe-linux/fuse-optimizers/0.4.2-1-r0/recipe-sysroot/usr/lib/libglog.so.0: error adding symbols: DSO missing from command line
collect2: error: ld returned 1 exit status
ninja: build stopped: subcommand failed.

Upstream-Status: Pending

Signed-off-by: Martin Jansa <martin.jansa@lge.com>
---
 CMakeLists.txt | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 7987873..e828322 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -69,6 +69,8 @@ target_include_directories(batch_optimizer_node
 target_link_libraries(batch_optimizer_node
   ${PROJECT_NAME}
   ${catkin_LIBRARIES}
+  gomp
+  glog
 )
 set_target_properties(batch_optimizer_node
   PROPERTIES
@@ -91,6 +92,8 @@ target_include_directories(fixed_lag_smoother_node
 target_link_libraries(fixed_lag_smoother_node
   ${PROJECT_NAME}
   ${catkin_LIBRARIES}
+  gomp
+  glog
 )
 set_target_properties(fixed_lag_smoother_node
   PROPERTIES
